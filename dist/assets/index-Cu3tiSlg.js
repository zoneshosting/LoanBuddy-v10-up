import{P as d,r as x,j as e,E as F,t as S,y as I,z as O,Q as A,v as z,B as T,G as i,n as g,F as C,T as f,M as P}from"./index-CE-hhAG-.js";import{b as L,c as N,d as V,T as k,a as h,e as G}from"./TableRow-HsnI2EQJ.js";import{I as U}from"./IconDotsVertical-Bmxi7iEg.js";import{M as l}from"./MenuItem-CQThPHeq.js";import{I as H}from"./IconPlus-D72lh6xW.js";import{D as q,a as E,b as R,c as M}from"./DialogTitle-BTUi3-oS.js";const Q=c=>{switch(c.toLowerCase()){case"email":return e.jsx(z,{size:"1.1rem"});case"sms":return e.jsx(A,{size:"1.1rem"});default:return null}},w=({filters:c,onEditClick:a})=>{const[m,n]=x.useState(null),[r,s]=x.useState(null),o=(t,p)=>{n(t.currentTarget),s(p)},u=()=>{n(null),s(null)},j=()=>{a(r),u()},y=[{id:1,name:"Welcome Email",type:"email",category:"onboarding",subject:"Welcome to Our Mortgage Services",content:"Dear {name}, Welcome to...",lastModified:"2024-02-15"},{id:2,name:"Rate Alert",type:"sms",category:"marketing",content:"New lower rates available! Contact us today.",lastModified:"2024-02-14"},{id:3,name:"Document Request",type:"email",category:"follow-up",subject:"Required Documents for Your Application",content:"Dear {name}, Please submit...",lastModified:"2024-02-13"}];return e.jsxs(L,{component:F,children:[e.jsxs(N,{children:[e.jsx(V,{children:e.jsxs(k,{children:[e.jsx(h,{children:"Template Name"}),e.jsx(h,{children:"Type"}),e.jsx(h,{children:"Category"}),e.jsx(h,{children:"Subject/Preview"}),e.jsx(h,{align:"right",children:"Last Modified"}),e.jsx(h,{align:"right",children:"Actions"})]})}),e.jsx(G,{children:y.map(t=>e.jsxs(k,{children:[e.jsx(h,{children:t.name}),e.jsx(h,{children:e.jsx(S,{icon:Q(t.type),label:t.type.toUpperCase(),size:"small",color:t.type==="email"?"primary":"secondary"})}),e.jsx(h,{children:e.jsx(S,{label:t.category,size:"small",variant:"outlined"})}),e.jsx(h,{children:t.type==="email"?t.subject:t.content}),e.jsx(h,{align:"right",children:t.lastModified}),e.jsx(h,{align:"right",children:e.jsx(I,{onClick:p=>o(p,t),children:e.jsx(U,{size:"1.1rem"})})})]},t.id))})]}),e.jsxs(O,{anchorEl:m,open:!!m,onClose:u,children:[e.jsx(l,{onClick:j,children:"Edit Template"}),e.jsx(l,{onClick:u,children:"Duplicate"}),e.jsx(l,{onClick:u,children:"Preview"}),e.jsx(l,{onClick:u,children:"Delete"})]})]})};w.propTypes={filters:d.object.isRequired,onEditClick:d.func.isRequired};const D=({filters:c,onFilterChange:a,onCreateClick:m})=>{const n=r=>s=>{a({...c,[r]:s.target.value})};return e.jsx(T,{sx:{mb:3},children:e.jsxs(i,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(i,{item:!0,xs:12,sm:4,children:e.jsxs(g,{select:!0,fullWidth:!0,label:"Template Type",value:c.type,onChange:n("type"),children:[e.jsx(l,{value:"all",children:"All Types"}),e.jsx(l,{value:"email",children:"Email"}),e.jsx(l,{value:"sms",children:"SMS"})]})}),e.jsx(i,{item:!0,xs:12,sm:4,children:e.jsxs(g,{select:!0,fullWidth:!0,label:"Category",value:c.category,onChange:n("category"),children:[e.jsx(l,{value:"all",children:"All Categories"}),e.jsx(l,{value:"onboarding",children:"Onboarding"}),e.jsx(l,{value:"marketing",children:"Marketing"}),e.jsx(l,{value:"follow-up",children:"Follow-up"}),e.jsx(l,{value:"reminder",children:"Reminder"})]})}),e.jsx(i,{item:!0,xs:12,sm:4,children:e.jsx(C,{variant:"contained",startIcon:e.jsx(H,{}),onClick:m,fullWidth:!0,children:"Create Template"})})]})})};D.propTypes={filters:d.object.isRequired,onFilterChange:d.func.isRequired,onCreateClick:d.func.isRequired};const v=({type:c,content:a,onChange:m,error:n})=>e.jsxs(e.Fragment,{children:[e.jsx(g,{label:"Content",fullWidth:!0,multiline:!0,rows:c==="sms"?3:8,value:a,onChange:m,error:!!n,helperText:n}),c==="sms"&&e.jsxs(T,{sx:{mt:1,display:"flex",justifyContent:"space-between"},children:[e.jsxs(f,{variant:"caption",color:"textSecondary",children:["Available variables: ","{name}",", ","{phone}",", ","{link}"]}),e.jsxs(f,{variant:"caption",color:a.length>160?"error":"textSecondary",children:[a.length,"/",160," characters"]})]}),c==="email"&&e.jsx(T,{sx:{mt:1},children:e.jsxs(f,{variant:"caption",color:"textSecondary",children:["Available variables: ","{name}",", ","{email}",", ","{phone}",", ","{link}",", ","{company}"]})})]});v.propTypes={type:d.oneOf(["email","sms"]).isRequired,content:d.string.isRequired,onChange:d.func.isRequired,error:d.string};const W=({open:c,onClose:a,onSubmit:m})=>{const[n,r]=x.useState({name:"",type:"",category:"",subject:"",content:""}),[s,o]=x.useState({}),u=t=>p=>{r({...n,[t]:p.target.value,...t==="type"&&p.target.value==="sms"&&{subject:""}}),o({...s,[t]:""})},j=()=>{const t={};if(n.name.trim()||(t.name="Template name is required"),n.type||(t.type="Template type is required"),n.category||(t.category="Category is required"),n.type==="email"&&!n.subject.trim()&&(t.subject="Subject is required for email templates"),n.content.trim()||(t.content="Content is required"),Object.keys(t).length>0){o(t);return}m(n),y()},y=()=>{r({name:"",type:"",category:"",subject:"",content:""}),o({})};return e.jsxs(q,{open:c,onClose:()=>{a(),y()},maxWidth:"md",fullWidth:!0,children:[e.jsx(E,{children:"Create New Template"}),e.jsx(R,{children:e.jsxs(i,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(g,{autoFocus:!0,label:"Template Name",fullWidth:!0,value:n.name,onChange:u("name"),error:!!s.name,helperText:s.name})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(g,{select:!0,label:"Template Type",fullWidth:!0,value:n.type,onChange:u("type"),error:!!s.type,helperText:s.type,children:[e.jsx(l,{value:"email",children:"Email"}),e.jsx(l,{value:"sms",children:"SMS"})]})}),e.jsx(i,{item:!0,xs:12,children:e.jsxs(g,{select:!0,label:"Category",fullWidth:!0,value:n.category,onChange:u("category"),error:!!s.category,helperText:s.category,children:[e.jsx(l,{value:"onboarding",children:"Onboarding"}),e.jsx(l,{value:"marketing",children:"Marketing"}),e.jsx(l,{value:"follow-up",children:"Follow-up"}),e.jsx(l,{value:"reminder",children:"Reminder"})]})}),n.type==="email"&&e.jsx(i,{item:!0,xs:12,children:e.jsx(g,{label:"Subject",fullWidth:!0,value:n.subject,onChange:u("subject"),error:!!s.subject,helperText:s.subject})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(v,{type:n.type,content:n.content,onChange:u("content"),error:s.content})})]})}),e.jsxs(M,{children:[e.jsx(C,{onClick:a,children:"Cancel"}),e.jsx(C,{onClick:j,variant:"contained",children:"Create Template"})]})]})};W.propTypes={open:d.bool.isRequired,onClose:d.func.isRequired,onSubmit:d.func.isRequired};const B=({open:c,template:a,onClose:m,onSubmit:n})=>{const[r,s]=x.useState({name:"",type:"",category:"",subject:"",content:""}),[o,u]=x.useState({});x.useEffect(()=>{a&&s({...a,subject:a.subject||""})},[a]);const j=t=>p=>{s({...r,[t]:p.target.value}),u({...o,[t]:""})},y=()=>{const t={};if(r.name.trim()||(t.name="Template name is required"),r.category||(t.category="Category is required"),r.type==="email"&&!r.subject.trim()&&(t.subject="Subject is required for email templates"),r.content.trim()||(t.content="Content is required"),Object.keys(t).length>0){u(t);return}n({...r,id:a.id})};return e.jsxs(q,{open:c,onClose:m,maxWidth:"md",fullWidth:!0,children:[e.jsx(E,{children:"Edit Template"}),e.jsx(R,{children:e.jsxs(i,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(g,{label:"Template Name",fullWidth:!0,value:r.name,onChange:j("name"),error:!!o.name,helperText:o.name})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(g,{select:!0,label:"Category",fullWidth:!0,value:r.category,onChange:j("category"),error:!!o.category,helperText:o.category,children:[e.jsx(l,{value:"onboarding",children:"Onboarding"}),e.jsx(l,{value:"marketing",children:"Marketing"}),e.jsx(l,{value:"follow-up",children:"Follow-up"}),e.jsx(l,{value:"reminder",children:"Reminder"})]})}),r.type==="email"&&e.jsx(i,{item:!0,xs:12,children:e.jsx(g,{label:"Subject",fullWidth:!0,value:r.subject,onChange:j("subject"),error:!!o.subject,helperText:o.subject})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(v,{type:r.type,content:r.content,onChange:j("content"),error:o.content})})]})}),e.jsxs(M,{children:[e.jsx(C,{onClick:m,children:"Cancel"}),e.jsx(C,{onClick:y,variant:"contained",children:"Save Changes"})]})]})};B.propTypes={open:d.bool.isRequired,template:d.object.isRequired,onClose:d.func.isRequired,onSubmit:d.func.isRequired};const $=()=>{const[c,a]=x.useState(!1),[m,n]=x.useState(!1),[r,s]=x.useState(null),[o,u]=x.useState({type:"all",category:"all"}),j=b=>{u(b)},y=b=>{console.log("Creating template:",b),a(!1)},t=b=>{console.log("Updating template:",b),n(!1),s(null)},p=b=>{s(b),n(!0)};return e.jsxs(P,{title:"Message Templates",children:[e.jsx(f,{variant:"body2",gutterBottom:!0,children:"Create and manage templates for your email and SMS campaigns. Standardize your messaging and save time with reusable templates."}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(D,{filters:o,onFilterChange:j,onCreateClick:()=>a(!0)})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(w,{filters:o,onEditClick:p})})]}),e.jsx(W,{open:c,onClose:()=>a(!1),onSubmit:y}),r&&e.jsx(B,{open:m,template:r,onClose:()=>{n(!1),s(null)},onSubmit:t})]})};export{$ as default};
