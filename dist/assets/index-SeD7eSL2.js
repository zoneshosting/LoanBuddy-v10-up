import{P as i,j as e,n as c,G as t,B as j,F as g,H as v,r as y,M as b,T as f}from"./index-CE-hhAG-.js";import{u as m,c as q,a as u,b as d,F as C}from"./index.esm-D64eQBsG.js";import{M as B}from"./MenuItem-CQThPHeq.js";const l=({error:n,...r})=>e.jsx(c,{fullWidth:!0,variant:"outlined",error:!!n,helperText:n,...r});l.propTypes={error:i.string};const A=()=>{const{values:n,errors:r,touched:a,handleChange:s,handleBlur:o}=m();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"firstName",label:"First Name",value:n.firstName,error:a.firstName&&r.firstName,onChange:s,onBlur:o,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"lastName",label:"Last Name",value:n.lastName,error:a.lastName&&r.lastName,onChange:s,onBlur:o,required:!0})})]})},T=()=>{const{values:n,errors:r,touched:a,handleChange:s,handleBlur:o}=m();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"email",label:"Email",type:"email",value:n.email,error:a.email&&r.email,onChange:s,onBlur:o,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"phone",label:"Phone",value:n.phone,error:a.phone&&r.phone,onChange:s,onBlur:o,required:!0})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(l,{name:"address",label:"Address",value:n.address,error:a.address&&r.address,onChange:s,onBlur:o,multiline:!0,rows:2})})]})},h=({options:n,error:r,...a})=>e.jsx(c,{select:!0,fullWidth:!0,variant:"outlined",error:!!r,helperText:r,...a,children:n.map(s=>e.jsx(B,{value:s.value,children:s.label},s.value))});h.propTypes={options:i.arrayOf(i.shape({value:i.string.isRequired,label:i.string.isRequired})).isRequired,error:i.string};const N=[{value:"conventional",label:"Conventional"},{value:"fha",label:"FHA"},{value:"va",label:"VA"},{value:"jumbo",label:"Jumbo"}],L=()=>{const{values:n,errors:r,touched:a,handleChange:s,handleBlur:o}=m();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(h,{name:"loanType",label:"Loan Type",value:n.loanType,error:a.loanType&&r.loanType,onChange:s,onBlur:o,options:N,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"loanAmount",label:"Loan Amount",type:"number",value:n.loanAmount,error:a.loanAmount&&r.loanAmount,onChange:s,onBlur:o,required:!0,InputProps:{startAdornment:"$"}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(l,{name:"notes",label:"Additional Notes",value:n.notes,error:a.notes&&r.notes,onChange:s,onBlur:o,multiline:!0,rows:3})})]})},S=()=>{const{values:n,errors:r,touched:a,handleChange:s,handleBlur:o}=m();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"employer",label:"Current Employer",value:n.employer,error:a.employer&&r.employer,onChange:s,onBlur:o,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"income",label:"Annual Income",type:"number",value:n.income,error:a.income&&r.income,onChange:s,onBlur:o,required:!0,InputProps:{startAdornment:"$"}})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"position",label:"Job Title/Position",value:n.position,error:a.position&&r.position,onChange:s,onBlur:o})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(l,{name:"employmentLength",label:"Length of Employment",value:n.employmentLength,error:a.employmentLength&&r.employmentLength,onChange:s,onBlur:o})})]})},F=q().shape({firstName:u().required("First name is required"),lastName:u().required("Last name is required"),email:u().email("Invalid email").required("Email is required"),phone:u().required("Phone number is required"),loanType:u().required("Loan type is required"),loanAmount:d().required("Loan amount is required").positive("Must be positive"),employer:u().required("Employer is required"),income:d().required("Annual income is required").positive("Must be positive")}),I={firstName:"",lastName:"",email:"",phone:"",loanType:"",loanAmount:"",employer:"",income:"",notes:""},x=({onSubmit:n,isSubmitting:r})=>e.jsx(C,{initialValues:I,validationSchema:F,onSubmit:n,children:({handleSubmit:a,isValid:s})=>e.jsx("form",{onSubmit:a,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(A,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(T,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(L,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(S,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(j,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:e.jsx(g,{variant:"contained",color:"primary",type:"submit",disabled:r||!s,children:r?"Saving...":"Save Client"})})})]})})});x.propTypes={onSubmit:i.func.isRequired,isSubmitting:i.bool};const M=()=>{const n=v(),[r,a]=y.useState(!1),s=async o=>{a(!0);try{console.log("Saving client:",o),n("/clients/all")}catch(p){console.error("Error saving client:",p)}finally{a(!1)}};return e.jsxs(b,{title:"Add New Client",children:[e.jsx(f,{variant:"body2",gutterBottom:!0,children:"Add a new mortgage client by filling out the form below. All fields marked with * are required."}),e.jsx(t,{container:!0,spacing:3,children:e.jsx(t,{item:!0,xs:12,children:e.jsx(x,{onSubmit:s,isSubmitting:r})})})]})};export{M as default};
