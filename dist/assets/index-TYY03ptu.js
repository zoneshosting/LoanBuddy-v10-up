import{h as R,P as j,r as m,j as e,E as k,t as M,y as I,z as w,G as l,v as E,I as W,B as b,T as g,n as x,F as v,M as q}from"./index-CE-hhAG-.js";import{b as B,c as F,d as L,T as f,a as r,e as A}from"./TableRow-HsnI2EQJ.js";import{I as O}from"./IconDotsVertical-Bmxi7iEg.js";import{M as a}from"./MenuItem-CQThPHeq.js";import{I as N}from"./IconPlus-D72lh6xW.js";import{D as P,a as z,b as $,c as U}from"./DialogTitle-BTUi3-oS.js";var V=R("click","IconClick",[["path",{d:"M3 12l3 0",key:"svg-0"}],["path",{d:"M12 3l0 3",key:"svg-1"}],["path",{d:"M7.8 7.8l-2.2 -2.2",key:"svg-2"}],["path",{d:"M16.2 7.8l2.2 -2.2",key:"svg-3"}],["path",{d:"M7.8 16.2l-2.2 2.2",key:"svg-4"}],["path",{d:"M12 12l9 3l-4 2l-2 4l-3 -9",key:"svg-5"}]]);const G=i=>{switch(i.toLowerCase()){case"sent":return"success";case"scheduled":return"warning";case"draft":return"default";default:return"default"}},S=()=>{const[i,c]=m.useState(null),[d,s]=m.useState(null),u=(t,p)=>{c(t.currentTarget),s(p)},n=()=>{c(null),s(null)},o=[{id:1,name:"Welcome Series",subject:"Welcome to Our Mortgage Services",status:"sent",sent:1250,opened:450,clicked:85,date:"2024-02-15"},{id:2,name:"Rate Update",subject:"New Lower Rates Available",status:"scheduled",sent:0,opened:0,clicked:0,date:"2024-02-20"},{id:3,name:"Follow-up Campaign",subject:"Your Mortgage Application Status",status:"draft",sent:0,opened:0,clicked:0,date:"-"}];return e.jsxs(B,{component:k,children:[e.jsxs(F,{children:[e.jsx(L,{children:e.jsxs(f,{children:[e.jsx(r,{children:"Campaign Name"}),e.jsx(r,{children:"Subject"}),e.jsx(r,{children:"Status"}),e.jsx(r,{align:"right",children:"Sent"}),e.jsx(r,{align:"right",children:"Opened"}),e.jsx(r,{align:"right",children:"Clicked"}),e.jsx(r,{align:"right",children:"Date"}),e.jsx(r,{align:"right",children:"Actions"})]})}),e.jsx(A,{children:o.map(t=>e.jsxs(f,{children:[e.jsx(r,{children:t.name}),e.jsx(r,{children:t.subject}),e.jsx(r,{children:e.jsx(M,{label:t.status,color:G(t.status),size:"small"})}),e.jsx(r,{align:"right",children:t.sent}),e.jsx(r,{align:"right",children:t.opened>0?`${t.opened} (${Math.round(t.opened/t.sent*100)}%)`:"-"}),e.jsx(r,{align:"right",children:t.clicked>0?`${t.clicked} (${Math.round(t.clicked/t.sent*100)}%)`:"-"}),e.jsx(r,{align:"right",children:t.date}),e.jsx(r,{align:"right",children:e.jsx(I,{onClick:p=>u(p,t),children:e.jsx(O,{size:"1.1rem"})})})]},t.id))})]}),e.jsxs(w,{anchorEl:i,open:!!i,onClose:n,children:[e.jsx(a,{onClick:n,children:"View Report"}),e.jsx(a,{onClick:n,children:"Edit Campaign"}),e.jsx(a,{onClick:n,children:"Duplicate"}),e.jsx(a,{onClick:n,children:"Delete"})]})]})};S.propTypes={filters:j.object.isRequired};const C=({title:i,value:c,subtitle:d,icon:s})=>e.jsxs(k,{sx:{p:2},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(b,{sx:{p:1.5,borderRadius:2,bgcolor:"primary.light",color:"primary.dark",mr:2},children:e.jsx(s,{size:24})}),e.jsx(g,{variant:"h6",children:i})]}),e.jsx(g,{variant:"h4",gutterBottom:!0,children:c}),e.jsx(g,{variant:"body2",color:"textSecondary",children:d})]}),Y=()=>e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Total Sent",value:"12,845",subtitle:"Last 30 days",icon:E})}),e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Open Rate",value:"24.8%",subtitle:"Industry avg: 21.5%",icon:W})}),e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Click Rate",value:"3.2%",subtitle:"Industry avg: 2.5%",icon:V})})]}),y=({filters:i,onFilterChange:c,onCreateClick:d})=>{const s=u=>n=>{c({...i,[u]:n.target.value})};return e.jsx(b,{sx:{mb:3},children:e.jsxs(l,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(l,{item:!0,xs:12,sm:4,children:e.jsxs(x,{select:!0,fullWidth:!0,label:"Status",value:i.status,onChange:s("status"),children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"draft",children:"Draft"}),e.jsx(a,{value:"scheduled",children:"Scheduled"}),e.jsx(a,{value:"sent",children:"Sent"})]})}),e.jsx(l,{item:!0,xs:12,sm:4,children:e.jsxs(x,{select:!0,fullWidth:!0,label:"Date Range",value:i.dateRange,onChange:s("dateRange"),children:[e.jsx(a,{value:"week",children:"Last 7 Days"}),e.jsx(a,{value:"month",children:"Last 30 Days"}),e.jsx(a,{value:"quarter",children:"Last 90 Days"}),e.jsx(a,{value:"year",children:"Last Year"})]})}),e.jsx(l,{item:!0,xs:12,sm:4,children:e.jsx(v,{variant:"contained",startIcon:e.jsx(N,{}),onClick:d,fullWidth:!0,children:"Create Campaign"})})]})})};y.propTypes={filters:j.object.isRequired,onFilterChange:j.func.isRequired,onCreateClick:j.func.isRequired};const D=({open:i,onClose:c,onSubmit:d})=>{const[s,u]=m.useState({name:"",subject:"",template:"",sendDate:"",status:"draft"}),[n,o]=m.useState({}),t=h=>T=>{u({...s,[h]:T.target.value}),o({...n,[h]:""})},p=()=>{const h={};if(s.name.trim()||(h.name="Campaign name is required"),s.subject.trim()||(h.subject="Subject line is required"),s.template||(h.template="Template is required"),Object.keys(h).length>0){o(h);return}d(s),u({name:"",subject:"",template:"",sendDate:"",status:"draft"}),o({})};return e.jsxs(P,{open:i,onClose:c,maxWidth:"md",fullWidth:!0,children:[e.jsx(z,{children:"Create New Email Campaign"}),e.jsx($,{children:e.jsxs(l,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(x,{autoFocus:!0,label:"Campaign Name",fullWidth:!0,value:s.name,onChange:t("name"),error:!!n.name,helperText:n.name})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(x,{label:"Subject Line",fullWidth:!0,value:s.subject,onChange:t("subject"),error:!!n.subject,helperText:n.subject})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(x,{select:!0,label:"Email Template",fullWidth:!0,value:s.template,onChange:t("template"),error:!!n.template,helperText:n.template,children:[e.jsx(a,{value:"welcome",children:"Welcome Email"}),e.jsx(a,{value:"follow-up",children:"Follow-up"}),e.jsx(a,{value:"rate-update",children:"Rate Update"}),e.jsx(a,{value:"newsletter",children:"Newsletter"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx(x,{type:"datetime-local",label:"Send Date",fullWidth:!0,value:s.sendDate,onChange:t("sendDate"),InputLabelProps:{shrink:!0}})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(x,{select:!0,label:"Status",fullWidth:!0,value:s.status,onChange:t("status"),children:[e.jsx(a,{value:"draft",children:"Save as Draft"}),e.jsx(a,{value:"scheduled",children:"Schedule"})]})})]})}),e.jsxs(U,{children:[e.jsx(v,{onClick:c,children:"Cancel"}),e.jsx(v,{onClick:p,variant:"contained",children:"Create Campaign"})]})]})};D.propTypes={open:j.bool.isRequired,onClose:j.func.isRequired,onSubmit:j.func.isRequired};const _=()=>{const[i,c]=m.useState(!1),[d,s]=m.useState({status:"all",dateRange:"month"}),u=o=>{s(o)},n=o=>{console.log("Creating campaign:",o),c(!1)};return e.jsxs(q,{title:"Email Campaigns",children:[e.jsx(g,{variant:"body2",gutterBottom:!0,children:"Create and manage email marketing campaigns for your mortgage leads. Track performance and engagement metrics."}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(Y,{})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(y,{filters:d,onFilterChange:u,onCreateClick:()=>c(!0)})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(S,{filters:d})})]}),e.jsx(D,{open:i,onClose:()=>c(!1),onSubmit:n})]})};export{_ as default};
