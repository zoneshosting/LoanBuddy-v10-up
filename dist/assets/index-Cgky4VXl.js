import{h as E,P as u,r as p,j as e,E as j,B as f,T as o,F as c,L as T,o as I,q as A,W as k,t as x,y as b,n as m,l as F,M as R,G as h}from"./index-CE-hhAG-.js";import{I as P}from"./IconPlus-D72lh6xW.js";import{I as w}from"./IconTrash-1sJSbluz.js";import{D,a as S,b as W,c as K}from"./DialogTitle-BTUi3-oS.js";import{M as B}from"./MenuItem-CQThPHeq.js";import{C as N}from"./react-apexcharts.min-CAiPBFOt.js";import{b as U,c as G,d as O,T as C,a as l,e as q}from"./TableRow-HsnI2EQJ.js";var H=E("copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);const L=({onUpdate:a})=>{const[i,s]=p.useState(!1),[r,d]=p.useState(""),y=[{id:1,name:"Production API Key",key:"pk_live_123456789",status:"active",created:"2024-02-15"},{id:2,name:"Test API Key",key:"pk_test_987654321",status:"active",created:"2024-02-14"}],v=n=>{navigator.clipboard.writeText(n)},g=()=>{r.trim()&&(console.log("Creating new API key:",r),d(""),s(!1),a())},t=n=>{console.log("Deleting API key:",n),a()};return e.jsxs(e.Fragment,{children:[e.jsxs(j,{sx:{p:2},children:[e.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(o,{variant:"h6",children:"API Keys"}),e.jsx(c,{variant:"contained",startIcon:e.jsx(P,{}),onClick:()=>s(!0),children:"Create Key"})]}),e.jsx(T,{children:y.map(n=>e.jsxs(I,{divider:!0,children:[e.jsx(A,{primary:n.name,secondary:e.jsxs(e.Fragment,{children:[e.jsxs(o,{variant:"body2",component:"span",children:[n.key.substring(0,12),"..."]}),e.jsx("br",{}),e.jsxs(o,{variant:"caption",color:"textSecondary",children:["Created: ",n.created]})]})}),e.jsxs(k,{children:[e.jsx(x,{label:n.status,color:n.status==="active"?"success":"default",size:"small",sx:{mr:1}}),e.jsx(b,{onClick:()=>v(n.key),size:"small",children:e.jsx(H,{size:"1.1rem"})}),e.jsx(b,{onClick:()=>t(n.id),color:"error",size:"small",children:e.jsx(w,{size:"1.1rem"})})]})]},n.id))})]}),e.jsxs(D,{open:i,onClose:()=>s(!1),children:[e.jsx(S,{children:"Create New API Key"}),e.jsx(W,{children:e.jsx(m,{autoFocus:!0,margin:"dense",label:"Key Name",fullWidth:!0,value:r,onChange:n=>d(n.target.value)})}),e.jsxs(K,{children:[e.jsx(c,{onClick:()=>s(!1),children:"Cancel"}),e.jsx(c,{onClick:g,variant:"contained",children:"Create"})]})]})]})};L.propTypes={onUpdate:u.func.isRequired};const J=[{value:"lead.created",label:"Lead Created"},{value:"lead.updated",label:"Lead Updated"},{value:"application.submitted",label:"Application Submitted"},{value:"loan.approved",label:"Loan Approved"}],z=({onUpdate:a})=>{const[i,s]=p.useState(!1),[r,d]=p.useState({url:"",event:"",description:""}),y=[{id:1,url:"https://api.example.com/webhook1",event:"lead.created",description:"New lead notifications",status:"active"},{id:2,url:"https://api.example.com/webhook2",event:"application.submitted",description:"Application tracking",status:"active"}],v=()=>{!r.url.trim()||!r.event||(console.log("Creating new webhook:",r),d({url:"",event:"",description:""}),s(!1),a())},g=t=>{console.log("Deleting webhook:",t),a()};return e.jsxs(e.Fragment,{children:[e.jsxs(j,{sx:{p:2},children:[e.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(o,{variant:"h6",children:"Webhooks"}),e.jsx(c,{variant:"contained",startIcon:e.jsx(P,{}),onClick:()=>s(!0),children:"Add Webhook"})]}),e.jsx(T,{children:y.map(t=>e.jsxs(I,{divider:!0,children:[e.jsx(A,{primary:t.url,secondary:e.jsxs(e.Fragment,{children:[e.jsx(x,{label:t.event,size:"small",color:"primary",variant:"outlined",sx:{mr:1}}),e.jsx(o,{variant:"caption",color:"textSecondary",children:t.description})]})}),e.jsxs(k,{children:[e.jsx(x,{label:t.status,color:t.status==="active"?"success":"default",size:"small",sx:{mr:1}}),e.jsx(b,{onClick:()=>g(t.id),color:"error",size:"small",children:e.jsx(w,{size:"1.1rem"})})]})]},t.id))})]}),e.jsxs(D,{open:i,onClose:()=>s(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(S,{children:"Add New Webhook"}),e.jsxs(W,{children:[e.jsx(m,{autoFocus:!0,margin:"dense",label:"Webhook URL",fullWidth:!0,value:r.url,onChange:t=>d({...r,url:t.target.value}),sx:{mb:2}}),e.jsx(m,{select:!0,margin:"dense",label:"Event",fullWidth:!0,value:r.event,onChange:t=>d({...r,event:t.target.value}),sx:{mb:2},children:J.map(t=>e.jsx(B,{value:t.value,children:t.label},t.value))}),e.jsx(m,{margin:"dense",label:"Description",fullWidth:!0,value:r.description,onChange:t=>d({...r,description:t.target.value}),multiline:!0,rows:2})]}),e.jsxs(K,{children:[e.jsx(c,{onClick:()=>s(!1),children:"Cancel"}),e.jsx(c,{onClick:v,variant:"contained",children:"Add Webhook"})]})]})]})};z.propTypes={onUpdate:u.func.isRequired};const _=({refresh:a})=>{const i=F(),s={series:[{name:"API Calls",data:[2800,3200,2950,3800,3100,3500,3200]}],options:{chart:{type:"area",height:350,toolbar:{show:!1}},colors:[i.palette.primary.main],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3,stops:[0,90,100]}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},xaxis:{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],labels:{style:{colors:i.palette.text.secondary}}},yaxis:{title:{text:"API Calls",style:{color:i.palette.text.secondary}},labels:{style:{colors:i.palette.text.secondary}}},tooltip:{x:{format:"dd/MM/yy HH:mm"}}}};return e.jsxs(j,{sx:{p:2},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"API Usage"}),e.jsx(N,{options:s.options,series:s.series,type:"area",height:350})]})};_.propTypes={refresh:u.bool};const Q=a=>a>=200&&a<300?"success":a>=400&&a<500?"warning":a>=500?"error":"default",M=({refresh:a})=>{const i=[{id:1,timestamp:"2024-02-15 14:23:45",method:"POST",endpoint:"/api/v1/leads",status:201,response_time:245,ip_address:"192.168.1.100"},{id:2,timestamp:"2024-02-15 14:22:30",method:"GET",endpoint:"/api/v1/applications",status:200,response_time:180,ip_address:"192.168.1.101"},{id:3,timestamp:"2024-02-15 14:21:15",method:"PUT",endpoint:"/api/v1/leads/123",status:400,response_time:150,ip_address:"192.168.1.102"}];return e.jsxs(j,{sx:{p:2},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"API Logs"}),e.jsx(U,{children:e.jsxs(G,{children:[e.jsx(O,{children:e.jsxs(C,{children:[e.jsx(l,{children:"Timestamp"}),e.jsx(l,{children:"Method"}),e.jsx(l,{children:"Endpoint"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Response Time"}),e.jsx(l,{children:"IP Address"})]})}),e.jsx(q,{children:i.map(s=>e.jsxs(C,{children:[e.jsx(l,{children:s.timestamp}),e.jsx(l,{children:e.jsx(x,{label:s.method,size:"small",color:s.method==="GET"?"primary":s.method==="POST"?"success":s.method==="PUT"?"warning":s.method==="DELETE"?"error":"default"})}),e.jsx(l,{children:s.endpoint}),e.jsx(l,{children:e.jsx(x,{label:s.status,size:"small",color:Q(s.status)})}),e.jsx(l,{children:e.jsxs(f,{sx:{display:"flex",alignItems:"center"},children:[s.response_time,e.jsx(o,{variant:"caption",color:"textSecondary",sx:{ml:.5},children:"ms"})]})}),e.jsx(l,{children:s.ip_address})]},s.id))})]})})]})};M.propTypes={refresh:u.bool};const te=()=>{const[a,i]=p.useState(!1),s=()=>{i(r=>!r)};return e.jsxs(R,{title:"API Settings",children:[e.jsx(o,{variant:"body2",gutterBottom:!0,children:"Manage your API keys, webhooks, and monitor API usage. Configure integrations with third-party services."}),e.jsxs(h,{container:!0,spacing:3,children:[e.jsx(h,{item:!0,xs:12,md:6,children:e.jsx(L,{onUpdate:s})}),e.jsx(h,{item:!0,xs:12,md:6,children:e.jsx(z,{onUpdate:s})}),e.jsx(h,{item:!0,xs:12,children:e.jsx(_,{refresh:a})}),e.jsx(h,{item:!0,xs:12,children:e.jsx(M,{refresh:a})})]})]})};export{te as default};
