import{h as k,P as j,r as p,j as e,E as T,B as f,A as I,T as g,t as A,y as M,z as w,G as a,n as x,F as b,$ as B,I as q,M as D}from"./index-CE-hhAG-.js";import{b as E,c as F,d as W,T as y,a as d,e as L}from"./TableRow-HsnI2EQJ.js";import{I as P}from"./IconDotsVertical-Bmxi7iEg.js";import{M as r}from"./MenuItem-CQThPHeq.js";import{D as z,a as O,b as G,c as J}from"./DialogTitle-BTUi3-oS.js";import{I as V}from"./IconUserCheck-CwKe_GQy.js";var X=k("user-x","IconUserX",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h3.5",key:"svg-1"}],["path",{d:"M22 22l-5 -5",key:"svg-2"}],["path",{d:"M17 22l5 -5",key:"svg-3"}]]);const H=o=>{switch(o.toLowerCase()){case"admin":return"error";case"manager":return"warning";case"agent":return"info";case"processor":return"success";default:return"default"}},U=({filters:o})=>{const[n,c]=p.useState(null),[s,u]=p.useState(null),t=(l,v)=>{c(l.currentTarget),u(v)},i=()=>{c(null),u(null)},m=[{id:1,name:"John Smith",email:"john.smith@example.com",role:"Manager",status:"active",lastActive:"2024-02-15 14:30",avatar:null},{id:2,name:"Sarah Johnson",email:"sarah.j@example.com",role:"Agent",status:"active",lastActive:"2024-02-15 13:45",avatar:null},{id:3,name:"Mike Brown",email:"m.brown@example.com",role:"Processor",status:"inactive",lastActive:"2024-02-14 16:20",avatar:null}];return e.jsxs(E,{component:T,children:[e.jsxs(F,{children:[e.jsx(W,{children:e.jsxs(y,{children:[e.jsx(d,{children:"User"}),e.jsx(d,{children:"Role"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Last Active"}),e.jsx(d,{align:"right",children:"Actions"})]})}),e.jsx(L,{children:m.map(l=>e.jsxs(y,{children:[e.jsx(d,{children:e.jsxs(f,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(I,{sx:{width:32,height:32,mr:2},src:l.avatar,children:l.name.charAt(0)}),e.jsxs(f,{children:[e.jsx(g,{variant:"subtitle2",children:l.name}),e.jsx(g,{variant:"caption",color:"textSecondary",children:l.email})]})]})}),e.jsx(d,{children:e.jsx(A,{label:l.role,size:"small",color:H(l.role)})}),e.jsx(d,{children:e.jsx(A,{label:l.status,size:"small",color:l.status==="active"?"success":"default"})}),e.jsx(d,{children:l.lastActive}),e.jsx(d,{align:"right",children:e.jsx(M,{onClick:v=>t(v,l),children:e.jsx(P,{size:"1.1rem"})})})]},l.id))})]}),e.jsxs(w,{anchorEl:n,open:!!n,onClose:i,children:[e.jsx(r,{onClick:i,children:"Edit User"}),e.jsx(r,{onClick:i,children:"Change Role"}),e.jsx(r,{onClick:i,children:"Reset Password"}),e.jsx(r,{onClick:i,children:(s==null?void 0:s.status)==="active"?"Deactivate":"Activate"})]})]})};U.propTypes={filters:j.object.isRequired};const R=({filters:o,onFilterChange:n,onAddClick:c})=>{const s=u=>t=>{n({...o,[u]:t.target.value})};return e.jsx(f,{sx:{mb:3},children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(a,{item:!0,xs:12,sm:4,children:e.jsxs(x,{select:!0,fullWidth:!0,label:"Role",value:o.role,onChange:s("role"),children:[e.jsx(r,{value:"all",children:"All Roles"}),e.jsx(r,{value:"admin",children:"Administrator"}),e.jsx(r,{value:"manager",children:"Manager"}),e.jsx(r,{value:"agent",children:"Loan Officer"}),e.jsx(r,{value:"processor",children:"Loan Processor"})]})}),e.jsx(a,{item:!0,xs:12,sm:4,children:e.jsxs(x,{select:!0,fullWidth:!0,label:"Status",value:o.status,onChange:s("status"),children:[e.jsx(r,{value:"all",children:"All Status"}),e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"inactive",children:"Inactive"})]})}),e.jsx(a,{item:!0,xs:12,sm:4,children:e.jsx(b,{variant:"contained",startIcon:e.jsx(B,{}),onClick:c,fullWidth:!0,children:"Add User"})})]})})};R.propTypes={filters:j.object.isRequired,onFilterChange:j.func.isRequired,onAddClick:j.func.isRequired};const S=({open:o,onClose:n,onSubmit:c})=>{const[s,u]=p.useState({firstName:"",lastName:"",email:"",role:"",team:""}),[t,i]=p.useState({}),m=h=>N=>{u({...s,[h]:N.target.value}),i({...t,[h]:""})},l=()=>{const h={};if(s.firstName.trim()||(h.firstName="First name is required"),s.lastName.trim()||(h.lastName="Last name is required"),s.email.trim()||(h.email="Email is required"),s.role||(h.role="Role is required"),Object.keys(h).length>0){i(h);return}c(s),v()},v=()=>{u({firstName:"",lastName:"",email:"",role:"",team:""}),i({})};return e.jsxs(z,{open:o,onClose:()=>{n(),v()},maxWidth:"sm",fullWidth:!0,children:[e.jsx(O,{children:"Add New User"}),e.jsx(G,{children:e.jsxs(a,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(x,{autoFocus:!0,label:"First Name",fullWidth:!0,value:s.firstName,onChange:m("firstName"),error:!!t.firstName,helperText:t.firstName})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(x,{label:"Last Name",fullWidth:!0,value:s.lastName,onChange:m("lastName"),error:!!t.lastName,helperText:t.lastName})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(x,{label:"Email",type:"email",fullWidth:!0,value:s.email,onChange:m("email"),error:!!t.email,helperText:t.email})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(x,{select:!0,label:"Role",fullWidth:!0,value:s.role,onChange:m("role"),error:!!t.role,helperText:t.role,children:[e.jsx(r,{value:"admin",children:"Administrator"}),e.jsx(r,{value:"manager",children:"Manager"}),e.jsx(r,{value:"agent",children:"Loan Officer"}),e.jsx(r,{value:"processor",children:"Loan Processor"})]})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(x,{select:!0,label:"Team",fullWidth:!0,value:s.team,onChange:m("team"),children:[e.jsx(r,{value:"sales",children:"Sales Team"}),e.jsx(r,{value:"processing",children:"Processing Team"}),e.jsx(r,{value:"underwriting",children:"Underwriting Team"})]})})]})}),e.jsxs(J,{children:[e.jsx(b,{onClick:n,children:"Cancel"}),e.jsx(b,{onClick:l,variant:"contained",children:"Add User"})]})]})};S.propTypes={open:j.bool.isRequired,onClose:j.func.isRequired,onSubmit:j.func.isRequired};const C=({title:o,value:n,subtitle:c,icon:s})=>e.jsxs(T,{sx:{p:2},children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(f,{sx:{p:1.5,borderRadius:2,bgcolor:"primary.light",color:"primary.dark",mr:2},children:e.jsx(s,{size:24})}),e.jsx(g,{variant:"h6",children:o})]}),e.jsx(g,{variant:"h4",gutterBottom:!0,children:n}),e.jsx(g,{variant:"body2",color:"textSecondary",children:c})]}),$=()=>e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Total Users",value:"24",subtitle:"Active and inactive users",icon:q})}),e.jsx(a,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Active Users",value:"18",subtitle:"Currently active",icon:V})}),e.jsx(a,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Inactive Users",value:"6",subtitle:"Deactivated accounts",icon:X})})]}),se=()=>{const[o,n]=p.useState(!1),[c,s]=p.useState({role:"all",status:"all"}),u=i=>{s(i)},t=i=>{console.log("Adding user:",i),n(!1)};return e.jsxs(D,{title:"User Management",children:[e.jsx(g,{variant:"body2",gutterBottom:!0,children:"Manage system users, their roles, and access permissions. Add new users and monitor user activity."}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx($,{})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(R,{filters:c,onFilterChange:u,onAddClick:()=>n(!0)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(U,{filters:c})})]}),e.jsx(S,{open:o,onClose:()=>n(!1),onSubmit:t})]})};export{se as default};
