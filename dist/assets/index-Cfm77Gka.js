import{h as k,P as g,r as j,j as e,E as S,t as I,y as q,z as w,G as r,Q as B,I as W,B as v,T as p,n as m,F as f,M as F}from"./index-CE-hhAG-.js";import{b as L,c as A,d as E,T as y,a as l,e as P}from"./TableRow-HsnI2EQJ.js";import{I as $}from"./IconDotsVertical-Bmxi7iEg.js";import{M as a}from"./MenuItem-CQThPHeq.js";import{I as z}from"./IconPlus-D72lh6xW.js";import{D as N,a as O,b as V,c as G}from"./DialogTitle-BTUi3-oS.js";var H=k("message-dots","IconMessageDots",[["path",{d:"M4 21v-13a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v6a3 3 0 0 1 -3 3h-9l-4 4",key:"svg-0"}],["path",{d:"M12 11l0 .01",key:"svg-1"}],["path",{d:"M8 11l0 .01",key:"svg-2"}],["path",{d:"M16 11l0 .01",key:"svg-3"}]]);const Q=i=>{switch(i.toLowerCase()){case"sent":return"success";case"scheduled":return"warning";case"draft":return"default";default:return"default"}},D=()=>{const[i,d]=j.useState(null),[o,s]=j.useState(null),x=(t,u)=>{d(t.currentTarget),s(u)},n=()=>{d(null),s(null)},c=[{id:1,name:"Rate Alert",message:"New lower rates available! Contact us today.",status:"sent",recipients:850,delivered:842,responses:68,date:"2024-02-15"},{id:2,name:"Application Reminder",message:"Complete your mortgage application today!",status:"scheduled",recipients:0,delivered:0,responses:0,date:"2024-02-20"},{id:3,name:"Document Request",message:"Please submit your required documents.",status:"draft",recipients:0,delivered:0,responses:0,date:"-"}];return e.jsxs(L,{component:S,children:[e.jsxs(A,{children:[e.jsx(E,{children:e.jsxs(y,{children:[e.jsx(l,{children:"Campaign Name"}),e.jsx(l,{children:"Message"}),e.jsx(l,{children:"Status"}),e.jsx(l,{align:"right",children:"Recipients"}),e.jsx(l,{align:"right",children:"Delivered"}),e.jsx(l,{align:"right",children:"Responses"}),e.jsx(l,{align:"right",children:"Date"}),e.jsx(l,{align:"right",children:"Actions"})]})}),e.jsx(P,{children:c.map(t=>e.jsxs(y,{children:[e.jsx(l,{children:t.name}),e.jsx(l,{children:t.message}),e.jsx(l,{children:e.jsx(I,{label:t.status,color:Q(t.status),size:"small"})}),e.jsx(l,{align:"right",children:t.recipients}),e.jsx(l,{align:"right",children:t.delivered>0?`${t.delivered} (${Math.round(t.delivered/t.recipients*100)}%)`:"-"}),e.jsx(l,{align:"right",children:t.responses>0?`${t.responses} (${Math.round(t.responses/t.delivered*100)}%)`:"-"}),e.jsx(l,{align:"right",children:t.date}),e.jsx(l,{align:"right",children:e.jsx(q,{onClick:u=>x(u,t),children:e.jsx($,{size:"1.1rem"})})})]},t.id))})]}),e.jsxs(w,{anchorEl:i,open:!!i,onClose:n,children:[e.jsx(a,{onClick:n,children:"View Report"}),e.jsx(a,{onClick:n,children:"Edit Campaign"}),e.jsx(a,{onClick:n,children:"Duplicate"}),e.jsx(a,{onClick:n,children:"Delete"})]})]})};D.propTypes={filters:g.object.isRequired};const C=({title:i,value:d,subtitle:o,icon:s})=>e.jsxs(S,{sx:{p:2},children:[e.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(v,{sx:{p:1.5,borderRadius:2,bgcolor:"primary.light",color:"primary.dark",mr:2},children:e.jsx(s,{size:24})}),e.jsx(p,{variant:"h6",children:i})]}),e.jsx(p,{variant:"h4",gutterBottom:!0,children:d}),e.jsx(p,{variant:"body2",color:"textSecondary",children:o})]}),U=()=>e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Messages Sent",value:"5,842",subtitle:"Last 30 days",icon:B})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Delivery Rate",value:"98.5%",subtitle:"Industry avg: 97%",icon:W})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(C,{title:"Response Rate",value:"12.8%",subtitle:"Industry avg: 8.5%",icon:H})})]}),R=({filters:i,onFilterChange:d,onCreateClick:o})=>{const s=x=>n=>{d({...i,[x]:n.target.value})};return e.jsx(v,{sx:{mb:3},children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(r,{item:!0,xs:12,sm:4,children:e.jsxs(m,{select:!0,fullWidth:!0,label:"Status",value:i.status,onChange:s("status"),children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"draft",children:"Draft"}),e.jsx(a,{value:"scheduled",children:"Scheduled"}),e.jsx(a,{value:"sent",children:"Sent"})]})}),e.jsx(r,{item:!0,xs:12,sm:4,children:e.jsxs(m,{select:!0,fullWidth:!0,label:"Date Range",value:i.dateRange,onChange:s("dateRange"),children:[e.jsx(a,{value:"week",children:"Last 7 Days"}),e.jsx(a,{value:"month",children:"Last 30 Days"}),e.jsx(a,{value:"quarter",children:"Last 90 Days"}),e.jsx(a,{value:"year",children:"Last Year"})]})}),e.jsx(r,{item:!0,xs:12,sm:4,children:e.jsx(f,{variant:"contained",startIcon:e.jsx(z,{}),onClick:o,fullWidth:!0,children:"Create Campaign"})})]})})};R.propTypes={filters:g.object.isRequired,onFilterChange:g.func.isRequired,onCreateClick:g.func.isRequired};const M=({open:i,onClose:d,onSubmit:o})=>{const[s,x]=j.useState({name:"",message:"",template:"",sendDate:"",status:"draft"}),[n,c]=j.useState({}),t=160,u=h=>b=>{h==="message"&&b.target.value.length>t||(x({...s,[h]:b.target.value}),c({...n,[h]:""}))},T=()=>{const h={};if(s.name.trim()||(h.name="Campaign name is required"),s.message.trim()||(h.message="Message is required"),s.template||(h.template="Template is required"),Object.keys(h).length>0){c(h);return}o(s),x({name:"",message:"",template:"",sendDate:"",status:"draft"}),c({})};return e.jsxs(N,{open:i,onClose:d,maxWidth:"md",fullWidth:!0,children:[e.jsx(O,{children:"Create New SMS Campaign"}),e.jsx(V,{children:e.jsxs(r,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(m,{autoFocus:!0,label:"Campaign Name",fullWidth:!0,value:s.name,onChange:u("name"),error:!!n.name,helperText:n.name})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(m,{label:"Message",fullWidth:!0,multiline:!0,rows:3,value:s.message,onChange:u("message"),error:!!n.message,helperText:n.message||`${s.message.length}/${t} characters`})}),e.jsx(r,{item:!0,xs:12,children:e.jsxs(m,{select:!0,label:"Message Template",fullWidth:!0,value:s.template,onChange:u("template"),error:!!n.template,helperText:n.template,children:[e.jsx(a,{value:"rate-alert",children:"Rate Alert"}),e.jsx(a,{value:"reminder",children:"Application Reminder"}),e.jsx(a,{value:"document",children:"Document Request"}),e.jsx(a,{value:"follow-up",children:"Follow-up"})]})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(m,{type:"datetime-local",label:"Send Date",fullWidth:!0,value:s.sendDate,onChange:u("sendDate"),InputLabelProps:{shrink:!0}})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsxs(m,{select:!0,label:"Status",fullWidth:!0,value:s.status,onChange:u("status"),children:[e.jsx(a,{value:"draft",children:"Save as Draft"}),e.jsx(a,{value:"scheduled",children:"Schedule"})]})})]})}),e.jsxs(G,{children:[e.jsx(f,{onClick:d,children:"Cancel"}),e.jsx(f,{onClick:T,variant:"contained",children:"Create Campaign"})]})]})};M.propTypes={open:g.bool.isRequired,onClose:g.func.isRequired,onSubmit:g.func.isRequired};const ee=()=>{const[i,d]=j.useState(!1),[o,s]=j.useState({status:"all",dateRange:"month"}),x=c=>{s(c)},n=c=>{console.log("Creating SMS campaign:",c),d(!1)};return e.jsxs(F,{title:"SMS Campaigns",children:[e.jsx(p,{variant:"body2",gutterBottom:!0,children:"Create and manage SMS marketing campaigns for your mortgage leads. Track delivery and response rates."}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(U,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(R,{filters:o,onFilterChange:x,onCreateClick:()=>d(!0)})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(D,{filters:o})})]}),e.jsx(M,{open:i,onClose:()=>d(!1),onSubmit:n})]})};export{ee as default};
